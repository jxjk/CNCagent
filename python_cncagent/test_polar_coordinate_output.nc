O0001 (MAIN PROGRAM)
(DESCRIPTION: FANUC CNC PROGRAM FOR FEATURE MACHINING)
(DATE: 2025-12-24)
(AUTHOR: CNC AGENT)

(PROGRAM PREPARATION)
G21 (MILLIMETER UNITS)
G90 (ABSOLUTE COORDINATE SYSTEM)
G40 (CANCEL TOOL RADIUS COMPENSATION)
G49 (CANCEL TOOL LENGTH COMPENSATION)
G80 (CANCEL FIXED CYCLE)

(COORDINATE SYSTEM SETUP)
(G90 - USE ABSOLUTE COORDINATE SYSTEM)
(ORIGIN (0,0) LOCATED AT TOP-LEFT OF WORKPIECE (G54))
(Y AXIS POSITIVE DIRECTION DOWNWARD, X AXIS POSITIVE RIGHTWARD)

(MOVE TO SAFE HEIGHT)
G00 Z100.0 (RAPID MOVE TO SAFE HEIGHT)

(COUNTERBORE PROCESS - REQUESTED 3 HOLES, DETECTED 3 POSITIONS)
(USING POLAR COORDINATES FOR HOLE POSITIONS)
G15 (CANCEL POLAR COORDINATES)
(HOLE 1: POSITION X94.000 Y-30.000 - φ94.0 COUNTERBORE DEPTH 20.0mm + φ94.0 THRU HOLE)
(HOLE 2: POSITION X94.000 Y90.000 - φ94.0 COUNTERBORE DEPTH 20.0mm + φ94.0 THRU HOLE)
(HOLE 3: POSITION X94.000 Y210.000 - φ94.0 COUNTERBORE DEPTH 20.0mm + φ94.0 THRU HOLE)

(POLAR COORDINATE OUTPUT)
(REFERENCE HOLE: X94.000, Y-30.000)

(STEP 1: PILOT DRILLING OPERATION WITH POLAR COORDINATES)
(TOOL CHANGE - T01: CENTER DRILL)
T1 M06 (TOOL CHANGE - CENTER DRILL)
M03 S1000 (SPINDLE FORWARD, PILOT DRILLING SPEED)
G04 P1000 (DELAY 1 SECOND, WAIT FOR SPINDLE TO REACH SET SPEED)
G43 H1 Z100. (ACTIVATE TOOL LENGTH COMPENSATION FOR T1)
M08 (COOLANT ON)
G00 X94.000 Y-30.000 (MOVE TO POLAR COORDINATE REFERENCE POINT)
G16 (ENTER POLAR COORDINATE MODE)
G82 X0.000 Y0.000 Z-1.000 R2.0 P1000 F50.0 (SPOT DRILLING CYCLE, R0.0, ANGLE0.0)
X120.000 Y90.000 (PILOT DRILLING 2: R120.0, ANGLE90.0)
X240.000 Y90.000 (PILOT DRILLING 3: R240.0, ANGLE90.0)
G80 (CANCEL FIXED CYCLE)
M09 (COOLANT OFF)
G00 Z100.0 (RAPID MOVE TO UNIFIED SAFE HEIGHT)
G49 (CANCEL TOOL LENGTH COMPENSATION)

(STEP 2: DRILLING OPERATION WITH POLAR COORDINATES)
(TOOL CHANGE - T02: DRILL BIT, HOLE DIAMETER 94.0mm)
T2 M06 (TOOL CHANGE - DRILL BIT)
M03 S800 (SPINDLE FORWARD, DRILLING SPEED)
G04 P1000 (DELAY 1 SECOND, WAIT FOR SPINDLE TO REACH SET SPEED)
G43 H2 Z100. (ACTIVATE TOOL LENGTH COMPENSATION FOR T2)
M08 (COOLANT ON)
G16 (RE-ENTER POLAR COORDINATE MODE)
G83 X0.000 Y0.000 Z-52.833 R2.0 Q1.0 F100.0 (DEEP HOLE DRILLING CYCLE - R0.0, ANGLE0.0, φ94.0 THRU HOLE)
X120.000 Y90.000 (DRILLING 2: R120.0, ANGLE90.0 - φ94.0 THRU HOLE)
X240.000 Y90.000 (DRILLING 3: R240.0, ANGLE90.0 - φ94.0 THRU HOLE)
G80 (CANCEL FIXED CYCLE)
M09 (COOLANT OFF)
G00 Z100.0 (RAPID MOVE TO UNIFIED SAFE HEIGHT)
G49 (CANCEL TOOL LENGTH COMPENSATION)

(STEP 3: COUNTERBORE OPERATION WITH POLAR COORDINATES)
(TOOL CHANGE - T04: COUNTERBORE TOOL, φ94.0mm)
T4 M06 (TOOL CHANGE - COUNTERBORE TOOL)
M03 S400 (SPINDLE FORWARD, COUNTERBORE SPEED)
G04 P1000 (DELAY 1 SECOND, WAIT FOR SPINDLE TO REACH SET SPEED)
G43 H4 Z100. (ACTIVATE TOOL LENGTH COMPENSATION FOR T4)
M08 (COOLANT ON)
G16 (RE-ENTER POLAR COORDINATE MODE)
G81 X0.000 Y0.000 Z-20.000 R2.0 F80.0 (COUNTERBORE 1: R0.0, ANGLE0.0 - φ94.0 COUNTERBORE DEPTH 20.0mm)
X120.000 Y90.000 (COUNTERBORE 2: R120.0, ANGLE90.0 - φ94.0 COUNTERBORE DEPTH 20.0mm)
X240.000 Y90.000 (COUNTERBORE 3: R240.0, ANGLE90.0 - φ94.0 COUNTERBORE DEPTH 20.0mm)
G80 (CANCEL FIXED CYCLE)
M09 (COOLANT OFF)
G00 Z100.0 (RAPID RETRACTION TO UNIFIED SAFE HEIGHT)
G49 (CANCEL TOOL LENGTH COMPENSATION)
M05 (SPINDLE STOP)
G15 (CANCEL POLAR COORDINATES)

(EXPECTED POLAR COORDINATE OUTPUT - FOR REFERENCE)
(CENTER REFERENCE: X94.0, Y-30.0)
(POLAR POSITION: R120.0 ANGLE90.0)
(POLAR POSITION: R240.0 ANGLE90.0)


(PROGRAM END)
M05 (SPINDLE STOP)
G00 Z100.0 (RAISE TOOL TO SAFE HEIGHT)
G91 (INCREMENTAL COORDINATE SYSTEM)
G28 Z0. (RETURN TO Z ORIGIN THROUGH REFERENCE POINT)
G28 X0. Y0. (RETURN TO X,Y ORIGIN THROUGH REFERENCE POINT)
G90 (ABSOLUTE COORDINATE SYSTEM)
M30 (PROGRAM END)