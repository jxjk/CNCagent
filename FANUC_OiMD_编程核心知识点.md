# FANUC Oi-MD 数控系统编程核心知识点

## 1. FANUC系统基本特点
- FANUC Oi-MD是广泛使用的数控系统，支持铣床和加工中心
- 支持绝对坐标编程（G90）和增量坐标编程（G91）
- 采用ISO标准G代码和M代码
- 支持固定循环、子程序调用和宏程序

## 2. 常用G代码
- G00: 快速定位
- G01: 直线插补
- G02: 顺时针圆弧插补
- G03: 逆时针圆弧插补
- G21: 毫米输入
- G20: 英寸输入
- G40: 取消刀具半径补偿
- G41: 左刀具半径补偿
- G42: 右刀具半径补偿
- G43: 刀具长度正补偿
- G44: 刀具长度负补偿
- G49: 取消刀具长度补偿
- G54-G59: 工件坐标系选择
- G80: 取消固定循环
- G81: 钻孔循环
- G82: 钻孔循环（带暂停）
- G83: 深孔钻循环
- G84: 攻丝循环
- G76: 精镗循环
- G90: 绝对坐标编程
- G91: 增量坐标编程
- G98: 返回初始平面
- G99: 返回R平面

## 3. 常用M代码
- M00: 程序停止
- M01: 选择停止
- M02: 程序结束
- M03: 主轴正转
- M04: 主轴反转
- M05: 主轴停止
- M06: 刀具交换
- M08: 冷却液开
- M09: 冷却液关
- M30: 程序结束并返回程序头

## 4. 固定循环编程
### G83深孔钻循环
- 格式：G99 G83 X_Y_Z_R_Q_F_
- Z: 孔加工深度
- R: R平面（安全高度）
- Q: 每次进给深度（退刀量）
- F: 进给速度
- G99返回R平面，G98返回初始平面

### G84攻丝循环
- 格式：G99 G84 X_Y_Z_R_F_
- F: 进给量 = 主轴转速 × 螺距
- 主轴在孔底部反转，确保丝锥安全退出
- F值的计算必须精确：F = S × 螺距

### G81钻孔循环
- 格式：G99 G81 X_Y_Z_R_F_
- 适用于浅孔加工

### G82钻孔循环
- 格式：G99 G82 X_Y_Z_R_P_F_
- P: 在孔底部的暂停时间（毫秒）

## 5. 刀具补偿
- G43 H_: 刀具长度正补偿
- G49: 取消刀具长度补偿
- H值应与刀具号T相匹配

## 6. 简化编程技巧
- 在固定循环中，对于多个相同加工的孔，可以在第一个孔执行完整G代码后，后续孔仅使用X、Y坐标
- 例如：G83 X10. Y10. Z-20. R2 F100（第一个孔）
      X20. Y20.（第二个孔）
      X30. Y30.（第三个孔）

## 7. 程序结构
- 程序开始：Oxxx（程序号）
- 程序头：设置单位、坐标系、补偿等
- 加工程序段：具体加工路径
- 程序结束：M30或M02

## 8. 安全操作要点
- 程序开始前必须设置安全高度
- 使用适当的固定循环以提高效率
- 刀具交换时确保主轴停止
- 攻丝时主轴转速与进给的匹配非常重要
- 冷却液的适时开启和关闭

## 9. 程序注释规范
- FANUC系统支持括号内注释：(DESCRIPTION)
- 程序开头应包含：程序号、描述、日期、作者
- 关键步骤应有注释说明
- 刀具更换应标注：(TOOL CHANGE - T01: DESCRIPTION)

## 10. 螺纹加工注意事项
- 攻丝循环中F值 = 主轴转速 × 螺距
- 不同螺纹规格对应不同螺距：
  * M3: 0.5mm (粗牙)
  * M4: 0.7mm (粗牙)
  * M5: 0.8mm (粗牙)
  * M6: 1.0mm (粗牙)
  * M8: 1.25mm (粗牙)
  * M10: 1.5mm (粗牙)
  * M12: 1.75mm (粗牙)
- 攻丝前必须先钻底孔，底孔直径 = 螺纹公称直径 - 螺距
- 深孔攻丝时需要考虑排屑，可先钻孔再攻丝