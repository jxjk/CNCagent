; CNC程序 - 沉头孔加工程序
; 工件长边为X轴，G54原点在工件右上角
; 加工2个沉头孔，不加工螺纹孔
; 使用点孔、钻孔、沉孔工艺

O0002 (程序号: 沉头孔加工)
G21 (毫米编程)
G40 (刀具半径补偿取消)
G49 (刀具长度补偿取消)
G80 (取消固定循环)
G90 (绝对编程)
G54 (工件坐标系1，原点在工件右上角)

; 设定安全高度和起始位置
G0 X0. Y0. S500 M03 (主轴正转，500转/分钟)

; 点孔操作 - 使用中心钻T01
T01 M06 (换1号刀: 中心钻φ3mm)
S1200 M03 (主轴正转，1200转/分钟)
G43 H01 Z5. (刀具长度补偿，安全高度)
G0 X-20.0 Y-5.0 (定位到第一个孔位置 - 右上角为原点，向负方向移动)
G81 G98 Z-2.0 R2.0 F50 (点孔，深度2mm)
G0 X-80.0 Y-5.0 (定位到第二个孔位置)
G81 G98 Z-2.0 R2.0 F50 (点孔，深度2mm)
G80 (取消固定循环)
G0 Z5. (抬刀到安全高度)

; 钻孔操作 - 使用钻头T02 
S800 M03 (主轴正转，800转/分钟)
G43 H02 Z5. (刀具长度补偿，安全高度)
G0 X-20.0 Y-5.0 (定位到第一个孔位置)
G83 G98 Z-14.0 R2.0 Q2.0 F100 (深孔钻，每次进给2mm，深度14mm)
G0 X-80.0 Y-5.0 (定位到第二个孔位置)
G83 G98 Z-14.0 R2.0 Q2.0 F100 (深孔钻，每次进给2mm，深度14mm)
G80 (取消固定循环)
G0 Z5. (抬刀到安全高度)

; 沉孔操作 - 使用沉头刀T03
S600 M03 (主轴正转，600转/分钟)
G43 H03 Z5. (刀具长度补偿，安全高度)
G0 X-20.0 Y-5.0 (定位到第一个孔位置)
G82 G98 Z-5.5 R2.0 P2000 F80 (沉孔，深度5.5mm，暂停2秒)
G0 X-80.0 Y-5.0 (定位到第二个孔位置)
G82 G98 Z-5.5 R2.0 P2000 F80 (沉孔，深度5.5mm，暂停2秒)
G80 (取消固定循环)
G0 Z5. (抬刀到安全高度)

M05 (主轴停止)
M30 (程序结束)